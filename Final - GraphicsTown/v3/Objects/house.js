var grobjects = grobjects || [];

// allow the two constructors to be "leaked" out
var House = undefined;

// this is a function that runs at loading time (note the parenthesis at the end)
(function() {
    "use strict";

    // i will use this function's scope for things that will be shared
    // across all houses - they can all have the same buffers and shaders
    // note - twgl keeps track of the locations for uniforms and attributes for us!
    var shaderProgram = undefined;
    var buffers = undefined;

    // constructor for Houses
    House = function House(name, position, size, color) {
        this.name = name;
        this.position = position || [0,0,0];
        this.size = size || 1.0;
        this.color = color || [.7,.8,.9];
    }
    House.prototype.init = function(drawingState) {
        var gl=drawingState.gl;
        // create the shaders once - for all houses
        if (!shaderProgram) {
            shaderProgram = twgl.createProgramInfo(gl, ["tex-vs", "tex-fs"]);
        }
        if (!buffers) {
            var arrays = {
                vpos : { numComponents: 3, data: [ -0.999999, 1.250000, 1.150000, -0.999999, 1.250000, 1.000001, 0.999999, 1.250000, 1.000001, 1.000000, 1.250000, -0.999999, 1.000000, 1.250000, -1.150000, 1.150001, 1.250000, -1.150000, 0.431382, 0.005414, 1.114625, 0.431382, 0.936796, 1.114625, -0.431382, 0.936796, 1.114625, -0.500000, 1.005414, 1.154019, -0.431382, 0.936796, 1.154019, 0.431382, 0.936796, 1.154019, -0.431382, 0.005414, 1.154019, -0.431382, 0.005414, 1.114625, -0.431382, 0.936796, 1.114625, 0.500000, 1.005414, 1.000000, 0.500000, 1.005414, 1.154019, 0.500000, 0.005414, 1.154019, 0.431382, 0.005414, 1.154019, 0.431382, 0.936796, 1.154019, 0.431382, 0.936796, 1.114625, -0.500000, 1.005414, 1.154019, 0.500000, 1.005414, 1.154019, 0.500000, 1.005414, 1.000000, 0.431382, 0.936796, 1.154019, 0.431382, 0.005414, 1.154019, 0.500000, 0.005414, 1.154019, -0.431382, 0.936796, 1.154019, -0.500000, 1.005414, 1.154019, -0.500000, 0.005414, 1.154019, -0.431382, 0.936796, 1.114625, 0.431382, 0.936796, 1.114625, 0.431382, 0.936796, 1.154019, 1.000000, 1.250000, -0.999999, 1.150001, 1.250000, -0.999999, 1.149999, 1.250000, 1.000001, 0.500000, 0.005414, 1.000000, 0.431382, 0.005414, 1.114625, -0.431382, 0.005414, 1.114625, -0.999999, 1.250000, 1.150000, -1.149999, 1.250000, 1.150001, -1.149999, 1.250000, 1.000001, -1.149999, 1.250000, 1.000001, -1.150001, 1.250000, -0.999999, -1.000000, 1.250000, -0.999999, -1.000000, 1.250000, -0.999999, -1.000000, 0.005414, -1.000000, -1.000000, 0.005414, 1.000000, -1.000000, 1.250000, -0.999999, 1.000000, 1.250000, -0.999999, 1.000000, 0.005414, -1.000000, -0.500000, 0.005414, 1.154019, -0.500000, 1.005414, 1.154019, -0.500000, 1.005414, 1.000000, 0.500000, 0.005414, 1.154019, 0.431382, 0.005414, 1.154019, 0.431382, 0.005414, 1.114625, 0.000000, 2.176747, 1.149999, 0.000000, 2.176747, -1.150000, -1.150001, 1.488133, -1.150000, -1.000000, 1.250000, -0.999999, -1.150001, 1.250000, -0.999999, -1.150001, 1.250000, -1.150000, -1.000000, 1.250000, -1.150000, 1.000000, 1.250000, -1.150000, 1.000000, 1.250000, -0.999999, 0.500000, 1.005414, 1.000000, 0.999999, 1.250000, 1.000001, -0.999999, 1.250000, 1.000001, 1.000000, 1.250000, -0.999999, 0.999999, 1.250000, 1.000001, 1.000000, 0.005414, 1.000000, -0.500000, 0.005414, 1.154019, -0.500000, 0.005414, 1.000000, -0.431382, 0.005414, 1.114625, 0.999999, 1.250000, 1.150000, 0.999999, 1.250000, 1.000001, 1.149999, 1.250000, 1.000001, 0.500000, 0.005414, 1.000000, -1.000000, 0.005414, -1.000000, 1.000000, 0.005414, -1.000000, -1.150001, 1.488133, -1.150000, -1.150001, 1.250000, -0.999999, -1.149999, 1.488133, 1.150001, -1.000000, 1.250000, -1.150000, 0.000000, 2.176747, -1.150000, 1.000000, 1.250000, -1.150000, 0.000000, 2.176747, 1.149999, -0.999999, 1.250000, 1.150000, 0.999999, 1.250000, 1.150000, 1.150001, 1.250000, -0.999999, 1.149999, 1.488133, 1.150001, 1.149999, 1.250000, 1.000001, 0.000000, 2.176747, 1.149999, 1.149999, 1.488133, 1.150001, 1.150001, 1.488133, -1.150000, 0.999999, 1.250000, 1.150000, -0.999999, 1.250000, 1.150000, 0.999999, 1.250000, 1.000001, 1.150001, 1.250000, -0.999999, 1.000000, 1.250000, -0.999999, 1.150001, 1.250000, -1.150000, -0.431382, 0.005414, 1.114625, 0.431382, 0.005414, 1.114625, -0.431382, 0.936796, 1.114625, 0.500000, 1.005414, 1.154019, -0.500000, 1.005414, 1.154019, 0.431382, 0.936796, 1.154019, -0.431382, 0.936796, 1.154019, -0.431382, 0.005414, 1.154019, -0.431382, 0.936796, 1.114625, 0.500000, 0.005414, 1.000000, 0.500000, 1.005414, 1.000000, 0.500000, 0.005414, 1.154019, 0.431382, 0.005414, 1.114625, 0.431382, 0.005414, 1.154019, 0.431382, 0.936796, 1.114625, -0.500000, 1.005414, 1.000000, -0.500000, 1.005414, 1.154019, 0.500000, 1.005414, 1.000000, 0.500000, 1.005414, 1.154019, 0.431382, 0.936796, 1.154019, 0.500000, 0.005414, 1.154019, -0.431382, 0.005414, 1.154019, -0.431382, 0.936796, 1.154019, -0.500000, 0.005414, 1.154019, -0.431382, 0.936796, 1.154019, -0.431382, 0.936796, 1.114625, 0.431382, 0.936796, 1.154019, 0.999999, 1.250000, 1.000001, 1.000000, 1.250000, -0.999999, 1.149999, 1.250000, 1.000001, -0.500000, 0.005414, 1.000000, 0.500000, 0.005414, 1.000000, -0.431382, 0.005414, 1.114625, -0.999999, 1.250000, 1.000001, -0.999999, 1.250000, 1.150000, -1.149999, 1.250000, 1.000001, -0.999999, 1.250000, 1.000001, -1.149999, 1.250000, 1.000001, -1.000000, 1.250000, -0.999999, -0.999999, 1.250000, 1.000001, -1.000000, 1.250000, -0.999999, -1.000000, 0.005414, 1.000000, -1.000000, 0.005414, -1.000000, -1.000000, 1.250000, -0.999999, 1.000000, 0.005414, -1.000000, -0.500000, 0.005414, 1.000000, -0.500000, 0.005414, 1.154019, -0.500000, 1.005414, 1.000000, 0.500000, 0.005414, 1.000000, 0.500000, 0.005414, 1.154019, 0.431382, 0.005414, 1.114625, -1.149999, 1.488133, 1.150001, 0.000000, 2.176747, 1.149999, -1.150001, 1.488133, -1.150000, -1.000000, 1.250000, -1.150000, -1.000000, 1.250000, -0.999999, -1.150001, 1.250000, -1.150000, -1.000000, 1.250000, -0.999999, -1.000000, 1.250000, -1.150000, 1.000000, 1.250000, -0.999999, -0.999999, 1.250000, 1.000001, -1.000000, 0.005414, 1.000000, -0.500000, 1.005414, 1.000000, 0.500000, 1.005414, 1.000000, 0.500000, 0.005414, 1.000000, 1.000000, 0.005414, 1.000000, -1.000000, 0.005414, 1.000000, -0.500000, 0.005414, 1.000000, -0.500000, 1.005414, 1.000000, 0.500000, 1.005414, 1.000000, 1.000000, 0.005414, 1.000000, 0.999999, 1.250000, 1.000001, -0.999999, 1.250000, 1.000001, -0.500000, 1.005414, 1.000000, 0.500000, 1.005414, 1.000000, 1.000000, 0.005414, -1.000000, 1.000000, 1.250000, -0.999999, 1.000000, 0.005414, 1.000000, -0.431382, 0.005414, 1.154019, -0.500000, 0.005414, 1.154019, -0.431382, 0.005414, 1.114625, 1.149999, 1.250000, 1.150001, 0.999999, 1.250000, 1.150000, 1.149999, 1.250000, 1.000001, -0.500000, 0.005414, 1.000000, -1.000000, 0.005414, 1.000000, -1.000000, 0.005414, -1.000000, 1.000000, 0.005414, -1.000000, 1.000000, 0.005414, 1.000000, 0.500000, 0.005414, 1.000000, 0.500000, 0.005414, 1.000000, -0.500000, 0.005414, 1.000000, -1.000000, 0.005414, -1.000000, -1.149999, 1.250000, 1.150001, -1.149999, 1.488133, 1.150001, -1.149999, 1.250000, 1.000001, -1.150001, 1.488133, -1.150000, -1.150001, 1.250000, -1.150000, -1.150001, 1.250000, -0.999999, -1.150001, 1.250000, -0.999999, -1.149999, 1.250000, 1.000001, -1.149999, 1.488133, 1.150001, 1.150001, 1.250000, -1.150000, 1.000000, 1.250000, -1.150000, 1.150001, 1.488133, -1.150000, -1.000000, 1.250000, -1.150000, -1.150001, 1.250000, -1.150000, -1.150001, 1.488133, -1.150000, -1.150001, 1.488133, -1.150000, 0.000000, 2.176747, -1.150000, -1.000000, 1.250000, -1.150000, 1.150001, 1.488133, -1.150000, 1.000000, 1.250000, -1.150000, 0.000000, 2.176747, -1.150000, 1.149999, 1.250000, 1.150001, 1.149999, 1.488133, 1.150001, 0.999999, 1.250000, 1.150000, 0.000000, 2.176747, 1.149999, -1.149999, 1.488133, 1.150001, -0.999999, 1.250000, 1.150000, -1.149999, 1.250000, 1.150001, -0.999999, 1.250000, 1.150000, -1.149999, 1.488133, 1.150001, 0.999999, 1.250000, 1.150000, 1.149999, 1.488133, 1.150001, 0.000000, 2.176747, 1.149999, 1.149999, 1.250000, 1.150001, 1.149999, 1.250000, 1.000001, 1.149999, 1.488133, 1.150001, 1.150001, 1.250000, -0.999999, 1.150001, 1.250000, -1.150000, 1.150001, 1.488133, -1.150000, 1.150001, 1.488133, -1.150000, 1.149999, 1.488133, 1.150001, 1.150001, 1.250000, -0.999999, 0.000000, 2.176747, -1.150000, 0.000000, 2.176747, 1.149999, 1.150001, 1.488133, -1.150000 ] },
                vnormal : { numComponents: 3, data: [ 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, 1.000000, -0.000000, 0.000000, 1.000000, -0.000000, 0.000000, 1.000000, -0.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, -0.513700, 0.857900, 0.000000, -0.513700, 0.857900, 0.000000, -0.513700, 0.857900, 0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 0.513700, 0.857900, 0.000000, 0.513700, 0.857900, 0.000000, 0.513700, 0.857900, 0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, 1.000000, -0.000000, 0.000000, 1.000000, -0.000000, 0.000000, 1.000000, -0.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, -0.513700, 0.857900, 0.000000, -0.513700, 0.857900, 0.000000, -0.513700, 0.857900, 0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, 0.000000, -1.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, -1.000000, -0.000000, -0.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, 0.000000, -1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 0.000000, -0.000000, 1.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 1.000000, -0.000000, -0.000000, 0.513700, 0.857900, 0.000000, 0.513700, 0.857900, 0.000000, 0.513700, 0.857900, 0.000000 ] },
				vtexCoord : { numComponents: 2, data: [ 0.656244, 0.171431,		0.500570, -0.002384,	0.999589, -0.002910, 0.996952, 0.995447,		0.905063, 0.912905,		0.920019, 0.866845, 0.210972, 0.000482,		0.211465, 0.181931,		0.166646, 0.181240, 0.172875, 0.187793,		0.170462, 0.182131,		0.206908, 0.182103, 0.166252, 0.181111,		0.167023, 0.002039,		0.170556, 0.000735, 0.213008, 0.195454,		0.206486, 0.195641,		0.206426, 0.000551, 0.211087, 0.001128,		0.211248, 0.181483,		0.207091, 0.181520, 0.172875, 0.187793,		0.203385, 0.188200,		0.213008, 0.195454, 0.212767, 0.196166,		0.213313, -0.000503,	0.206702, -0.000299, 0.170462, 0.182131,		0.164194, 0.196164,		0.164538, -0.000544, 0.170838, 0.177450,		0.207119, 0.177187,		0.206908, 0.182103, 0.585472, 0.843472,		0.617937, 0.763660,		0.621315, 0.200701, 0.249965, -0.261001,	0.218196, -0.198602,	0.132609, -0.197626, 0.656244, 0.171431,		0.652838, 0.203428,		0.555127, 0.259192, 0.555127, 0.259192,		0.555948, 0.697114,		0.501777, 0.997634, 0.124528, 0.999403, 0.124495, 0.763525, 0.249439, 0.763856, 0.251064, 1.000615, 0.126007, 1.000357, 0.126321, 0.763225, 0.168610, 0.001157, 0.169465, 0.185313, 0.164896, 0.185579, 0.227509, -0.214617, 0.222248, -0.216519, 0.218196, -0.198602, 0.999526, 0.996932, 0.497829, 0.996346, 0.499293, 0.002426, 0.501777, 0.997634, 0.555948, 0.697114, 0.592989, 0.723793, 0.589022, 0.910603, 0.905063, 0.912905, 0.996952, 0.995447, 0.212891, 0.195312, 0.251439, 0.247916, 0.124992, 0.247687, 0.125445, 0.501055, 0.001062, 0.501055, 0.001062, 0.250577, 0.091101, -0.217731, 0.076313, -0.261001, 0.132609, -0.197626, 0.846305, 0.160089, 0.999589, -0.002910, 0.949201, 0.282363, 0.588235, -0.164545, 0.533325, -0.609389, 0.752873, -0.609389, 0.499870, 1.002250, 0.501644, 0.348172, 0.993156, 1.003154, 1.000129, -0.001374, 0.748763, 0.993574, 0.498563, 0.000870, 0.749675, 0.995823, 0.502068, -0.001328, 0.998604, -0.002872, 0.945823, 0.845322, 0.838745, 0.224200, 0.949201, 0.282363, 0.500385, 1.002000, 0.500469, 0.006668, 1.001652, 0.000299, 0.846305, 0.160089, 0.656244, 0.171431, 0.999589, -0.002910, 0.945823, 0.845322, 0.996952, 0.995447, 0.920019, 0.866845, 0.166342, 0.000287, 0.210972, 0.000482, 0.166646, 0.181240, 0.203385, 0.188200, 0.172875, 0.187793, 0.206908, 0.182103, 0.170462, 0.182131, 0.166252, 0.181111, 0.170556, 0.000735, 0.213071, 0.000052, 0.213008, 0.195454, 0.206426, 0.000551, 0.207964, 0.000444, 0.211087, 0.001128, 0.207091, 0.181520, 0.163346, 0.195500, 0.172875, 0.187793, 0.213008, 0.195454, 0.206510, 0.182341, 0.212767, 0.196166, 0.206702, -0.000299, 0.169000, -0.000412, 0.170462, 0.182131, 0.164538, -0.000544, 0.170462, 0.182131, 0.170838, 0.177450, 0.206908, 0.182103, 0.610080, 0.120301, 0.548068, 0.867095, 0.583911, 0.224325, 0.076313, -0.261001, 0.249965, -0.261001, 0.132609, -0.197626, 0.500570, -0.002384, 0.656244, 0.171431, 0.555127, 0.259192, 0.500570, -0.002384, 0.555127, 0.259192, 0.501777, 0.997634, 0.249560, 0.999218, 0.124528, 0.999403, 0.249439, 0.763856, 0.251378, 0.763483, 0.251064, 1.000615, 0.126321, 0.763225, 0.164364, -0.001188, 0.168610, 0.001157, 0.164896, 0.185579, 0.249965, -0.261001, 0.227509, -0.214617, 0.218196, -0.198602, 0.999415, 0.003025, 0.999526, 0.996932, 0.499293, 0.002426, 0.589022, 0.910603, 0.501777, 0.997634, 0.592989, 0.723793, 0.501777, 0.997634, 0.589022, 0.910603, 0.996952, 0.995447, 0.124992, 0.247687, 0.124452, -0.001390, 0.163721, 0.195313, 0.212891, 0.195312, 0.212891, 0.000172, 0.251439, -0.000219, 0.124452, -0.001390, 0.163721, -0.001390, 0.163721, 0.195313, 0.212891, 0.195312, 0.251439, -0.000219, 0.251439, 0.247916, 0.124992, 0.247687, 0.163721, 0.195313, 0.212891, 0.195312, 0.125445, 0.250576, 0.125445, 0.501055, 0.001062, 0.250577, 0.095563, -0.217599, 0.091101, -0.217731, 0.132609, -0.197626, 0.850941, 0.204522, 0.846305, 0.160089, 0.949201, 0.282363, 0.588212, -0.170293, 0.533325, -0.170293, 0.533325, -0.609389, 0.752873, -0.609389, 0.752873, -0.170293, 0.588235, -0.164545, 0.588235, -0.164545, 0.588212, -0.170293, 0.533325, -0.609389, 0.996888, 0.728051, 0.993156, 1.003154, 1.000614, 0.347858, 0.499870, 1.002250, 0.608037, 0.553282, 0.501644, 0.348172, 0.501644, 0.348172, 1.000614, 0.347858, 0.993156, 1.003154, 0.502534, 0.206737, 0.498563, 0.000870, 0.501822, 0.524052, 1.000129, -0.001374, 0.985192, 0.280040, 0.999306, 0.528224, 0.999306, 0.528224, 0.748763, 0.993574, 1.000129, -0.001374, 0.501822, 0.524052, 0.498563, 0.000870, 0.748763, 0.993574, 1.000033, 0.520943, 0.998563, 0.655165, 0.998604, -0.002872, 0.749675, 0.995823, 0.499483, 0.602691, 0.502068, -0.001328,  0.499431, 0.303937, 0.502068, -0.001328, 0.499483, 0.602691, 0.998604, -0.002872, 0.998563, 0.655165, 0.749675, 0.995823, 0.850941, 0.204522, 0.949201, 0.282363, 0.838745, 0.224200, 0.945823, 0.845322, 0.920019, 0.866845, 0.904244, 0.829726, 0.904244, 0.829726, 0.838745, 0.224200, 0.945823, 0.845322, 1.000728, 0.999303, 0.500385, 1.002000, 1.001652, 0.000299 ]}
            };
            buffers = twgl.createBufferInfoFromArrays(drawingState.gl,arrays);
        }

    };
    House.prototype.draw = function(drawingState) {
        // we make a model matrix to place the house in the world
        var modelM = twgl.m4.scaling([this.size,this.size,this.size]);
        twgl.m4.setTranslation(modelM,this.position,modelM);
        // the drawing coce is straightforward - since twgl deals with the GL stuff for us
        var gl = drawingState.gl;
        gl.useProgram(shaderProgram.program);
		shaderProgram.texSampler = gl.getUniformLocation(shaderProgram.program, "texSampler");
		gl.uniform1i(gl.getUniformLocation(shaderProgram.program, "texSampler"), 0);
        twgl.setBuffersAndAttributes(gl,shaderProgram,buffers);
        twgl.setUniforms(shaderProgram,{
            view:drawingState.view, proj:drawingState.proj, lightdir:drawingState.sunDirection,
            color:this.color, model: modelM });
        twgl.drawBufferInfo(gl, gl.TRIANGLES, buffers);
    };
    House.prototype.center = function(drawingState) {
        return this.position;
    }
})();

// put some objects into the scene
// normally, this would happen in a "scene description" file
// but I am putting it here, so that if you want to get
// rid of houses, just don't load this file.
grobjects.push(new House("house1", [0, 2, -2], 1) );
